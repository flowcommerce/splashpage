/**
 * Generated by apidoc - http://www.apidoc.me
 * Service version: 0.1.2
 * apidoc:0.11.2 http://www.apidoc.me/flow/splashpage/0.1.2/anorm_2_x_parsers
 */
import anorm._

package io.flow.splashpage.v0.anorm.parsers {

  import io.flow.splashpage.v0.anorm.conversions.Json._

  object Publication {

    def parserWithPrefix(prefix: String) = parser(s"${prefix}_name")

    def parser(name: String = "publication"): RowParser[io.flow.splashpage.v0.models.Publication] = {
      SqlParser.str(name) map {
        case value => io.flow.splashpage.v0.models.Publication(value)
      }
    }

  }

  object Geo {

    def parserWithPrefix(prefix: String) = parser(
      ipAddress = s"${prefix}_ip_address",
      latitude = s"${prefix}_latitude",
      longitude = s"${prefix}_longitude"
    )

    def parser(
      ipAddress: String = "ip_address",
      latitude: String = "latitude",
      longitude: String = "longitude"
    ): RowParser[io.flow.splashpage.v0.models.Geo] = {
      SqlParser.str(ipAddress).? ~
      SqlParser.str(latitude).? ~
      SqlParser.str(longitude).? map {
        case ipAddress ~ latitude ~ longitude => {
          io.flow.splashpage.v0.models.Geo(
            ipAddress = ipAddress,
            latitude = latitude,
            longitude = longitude
          )
        }
      }
    }

  }

  object GeoForm {

    def parserWithPrefix(prefix: String) = parser(
      ipAddress = s"${prefix}_ip_address",
      latitude = s"${prefix}_latitude",
      longitude = s"${prefix}_longitude"
    )

    def parser(
      ipAddress: String = "ip_address",
      latitude: String = "latitude",
      longitude: String = "longitude"
    ): RowParser[io.flow.splashpage.v0.models.GeoForm] = {
      SqlParser.str(ipAddress).? ~
      SqlParser.str(latitude).? ~
      SqlParser.str(longitude).? map {
        case ipAddress ~ latitude ~ longitude => {
          io.flow.splashpage.v0.models.GeoForm(
            ipAddress = ipAddress,
            latitude = latitude,
            longitude = longitude
          )
        }
      }
    }

  }

  object Subscription {

    def parserWithPrefix(prefix: String) = parser(
      id = s"${prefix}_id",
      email = s"${prefix}_email",
      publication = s"${prefix}_publication",
      geoPrefix = s"${prefix}_geo"
    )

    def parser(
      id: String = "id",
      email: String = "email",
      publication: String = "publication",
      geoPrefix: String = "geo"
    ): RowParser[io.flow.splashpage.v0.models.Subscription] = {
      SqlParser.str(id) ~
      SqlParser.str(email) ~
      io.flow.splashpage.v0.anorm.parsers.Publication.parser(publication) ~
      io.flow.splashpage.v0.anorm.parsers.Geo.parserWithPrefix(geoPrefix) map {
        case id ~ email ~ publication ~ geo => {
          io.flow.splashpage.v0.models.Subscription(
            id = id,
            email = email,
            publication = publication,
            geo = geo
          )
        }
      }
    }

  }

  object SubscriptionForm {

    def parserWithPrefix(prefix: String) = parser(
      email = s"${prefix}_email",
      publication = s"${prefix}_publication",
      geoPrefix = s"${prefix}_geo"
    )

    def parser(
      email: String = "email",
      publication: String = "publication",
      geoPrefix: String = "geo"
    ): RowParser[io.flow.splashpage.v0.models.SubscriptionForm] = {
      SqlParser.str(email) ~
      io.flow.splashpage.v0.anorm.parsers.Publication.parser(publication) ~
      io.flow.splashpage.v0.anorm.parsers.GeoForm.parserWithPrefix(geoPrefix).? map {
        case email ~ publication ~ geo => {
          io.flow.splashpage.v0.models.SubscriptionForm(
            email = email,
            publication = publication,
            geo = geo
          )
        }
      }
    }

  }

}