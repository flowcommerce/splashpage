/**
 * Generated by apidoc - http://www.apidoc.me
 * Service version: 0.1.1
 * apidoc:0.10.1 http://localhost:9000/flow/splashpage/0.1.1/anorm_2_x_parsers
 */
import anorm._

package io.flow.splashpage.v0.anorm.parsers {

  import io.flow.splashpage.v0.anorm.conversions.Json._
  import io.flow.common.v0.anorm.conversions.Json.Local._

  object Publication {

    case class Mappings(value: String)

    object Mappings {

      val base = prefix("", "")

      def table(table: String) = prefix(table, ".")

      def prefix(prefix: String, sep: String) = Mappings(
        value = s"${prefix}${sep}value"
      )

    }

    def table(table: String) = parser(Mappings.prefix(table, "."))

    def parser(mappings: Mappings): RowParser[io.flow.splashpage.v0.models.Publication] = {
      SqlParser.str(mappings.value) map {
        case value => io.flow.splashpage.v0.models.Publication(value)
      }
    }

  }
  object Geo {

    case class Mappings(
      ipAddress: String = "ip_address",
      latitude: String = "latitude",
      longitude: String = "longitude"
    )

    object Mappings {

      val base = prefix("", "")

      def table(table: String) = prefix(table, ".")

      def prefix(prefix: String, sep: String) = Mappings(
        ipAddress = s"${prefix}${sep}ip_address",
        latitude = s"${prefix}${sep}latitude",
        longitude = s"${prefix}${sep}longitude"
      )

    }

    def table(table: String) = parser(Mappings.prefix(table, "."))

    def parser(mappings: Mappings): RowParser[io.flow.splashpage.v0.models.Geo] = {
      SqlParser.str(mappings.ipAddress).? ~
      SqlParser.str(mappings.latitude).? ~
      SqlParser.str(mappings.longitude).? map {
        case ipAddress ~ latitude ~ longitude => {
          io.flow.splashpage.v0.models.Geo(
            ipAddress = ipAddress,
            latitude = latitude,
            longitude = longitude
          )
        }
      }
    }

  }

  object GeoForm {

    case class Mappings(
      ipAddress: String = "ip_address",
      latitude: String = "latitude",
      longitude: String = "longitude"
    )

    object Mappings {

      val base = prefix("", "")

      def table(table: String) = prefix(table, ".")

      def prefix(prefix: String, sep: String) = Mappings(
        ipAddress = s"${prefix}${sep}ip_address",
        latitude = s"${prefix}${sep}latitude",
        longitude = s"${prefix}${sep}longitude"
      )

    }

    def table(table: String) = parser(Mappings.prefix(table, "."))

    def parser(mappings: Mappings): RowParser[io.flow.splashpage.v0.models.GeoForm] = {
      SqlParser.str(mappings.ipAddress).? ~
      SqlParser.str(mappings.latitude).? ~
      SqlParser.str(mappings.longitude).? map {
        case ipAddress ~ latitude ~ longitude => {
          io.flow.splashpage.v0.models.GeoForm(
            ipAddress = ipAddress,
            latitude = latitude,
            longitude = longitude
          )
        }
      }
    }

  }

  object Subscription {

    case class Mappings(
      id: String = "id",
      email: String = "email",
      publication: String = "publication",
      geo: io.flow.splashpage.v0.anorm.parsers.Geo.Mappings
    )

    object Mappings {

      val base = prefix("", "")

      def table(table: String) = prefix(table, ".")

      def prefix(prefix: String, sep: String) = Mappings(
        id = s"${prefix}${sep}id",
        email = s"${prefix}${sep}email",
        publication = s"${prefix}${sep}publication",
        geo = io.flow.splashpage.v0.anorm.parsers.Geo.Mappings.prefix(Seq(prefix, "geo").filter(!_.isEmpty).mkString("_"), "_")
      )

    }

    def table(table: String) = parser(Mappings.prefix(table, "."))

    def parser(mappings: Mappings): RowParser[io.flow.splashpage.v0.models.Subscription] = {
      SqlParser.str(mappings.id) ~
      SqlParser.str(mappings.email) ~
      io.flow.splashpage.v0.anorm.parsers.Publication.parser(io.flow.splashpage.v0.anorm.parsers.Publication.Mappings(mappings.publication)) ~
      io.flow.splashpage.v0.anorm.parsers.Geo.parser(mappings.geo) map {
        case id ~ email ~ publication ~ geo => {
          io.flow.splashpage.v0.models.Subscription(
            id = id,
            email = email,
            publication = publication,
            geo = geo
          )
        }
      }
    }

  }

  object SubscriptionForm {

    case class Mappings(
      email: String = "email",
      publication: String = "publication",
      geo: io.flow.splashpage.v0.anorm.parsers.GeoForm.Mappings
    )

    object Mappings {

      val base = prefix("", "")

      def table(table: String) = prefix(table, ".")

      def prefix(prefix: String, sep: String) = Mappings(
        email = s"${prefix}${sep}email",
        publication = s"${prefix}${sep}publication",
        geo = io.flow.splashpage.v0.anorm.parsers.GeoForm.Mappings.prefix(Seq(prefix, "geo").filter(!_.isEmpty).mkString("_"), "_")
      )

    }

    def table(table: String) = parser(Mappings.prefix(table, "."))

    def parser(mappings: Mappings): RowParser[io.flow.splashpage.v0.models.SubscriptionForm] = {
      SqlParser.str(mappings.email) ~
      io.flow.splashpage.v0.anorm.parsers.Publication.parser(io.flow.splashpage.v0.anorm.parsers.Publication.Mappings(mappings.publication)) ~
      io.flow.splashpage.v0.anorm.parsers.GeoForm.parser(mappings.geo).? map {
        case email ~ publication ~ geo => {
          io.flow.splashpage.v0.models.SubscriptionForm(
            email = email,
            publication = publication,
            geo = geo
          )
        }
      }
    }

  }

}